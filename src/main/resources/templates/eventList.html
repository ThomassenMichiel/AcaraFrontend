<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/bootstrap.css" th:href="@{~/css/bootstrap.css}"/>
    <link rel="stylesheet" href="../static/css/font-awesome/css/all.css" th:href="@{~/css/font-awesome/css/all.css}"
          type="text/css"/>
    <title>Acara</title>
</head>


<body>
<div th:insert="navbar :: navbar"></div>
<h1>List of events</h1>
<a href="/events/new" th:href="@{/events/new}" sec:authorize="hasRole('ADMIN')">
    Add event
</a>
<ul>
    <li th:each="event : ${events}">
        <p th:text="'Name: ' + ${event.name}">Name</p>
        <p th:text="'Date: ' + ${event.eventDate}">Date</p>
        <p th:text="'Location: ' + ${event.location}">Location</p>
        <p th:text="'Price: ' + ${event.price}">Price</p>
        <a href="/events/detail"
           th:href="@{|/events/detail/${event.id}|}">
            Detail
        </a>
        <p sec:authorize="hasRole('ADMIN')" th:insert="deleteEvent :: deleteEvent"></p>
    </li>
</ul>
<nav aria-label="Page navigation" th:if="${events.totalPages > 0}">
    <ul class="pagination">
        <li th:class="page-item + ' ' + (${events.number <= 0} ? disabled)">
            <a th:href="@{/events(size=${events.size}, page=${events.number})}"
               th:class="page-link">
                Previous
            </a>
        </li>
        <li class="page-item" th:each="pageNumber : ${pageNumbers}" th:class="'page-item ' + (${pageNumber==events.number + 1} ? active : '')">
            <a class="page-link" th:href="@{/events(size=${events.size}, page=${pageNumber})}"
               th:text="${pageNumber}"
               th:class="page-link">
            </a>
        </li>
        <li th:class="page-item + ' ' + (${events.number + 1 >= events.totalPages} ? disabled)">
            <a th:class="page-link" th:href="@{/events(size=${events.size}, page=${events.number+2})}">
                Next
            </a>
        </li>
    </ul>
</nav>
</body>
</html>
